<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forum</title>
    <link rel="stylesheet" href="styles/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-brand">Forum</div>
        <div class="nav-search">
            <input type="text" placeholder="Search..." id="searchInput">
        </div>
        <div id="navAuth" class="nav-auth">
            <!-- Auth buttons will be inserted here -->
        </div>
    </nav>

    <div class="container">
        <aside class="sidebar left-sidebar">
            <div id="userProfile" class="profile-section">
                <!-- Profile info will be inserted here -->
            </div>
            <div class="menu-section">
                <a href="/posts" class="menu-item active" data-view="feed">
                    <i class="fas fa-home"></i> Home
                </a>
                <a href="#" class="menu-item" data-view="profile">
                    <i class="fas fa-user"></i> Profile
                </a>
                <a href="/profile" class="menu-item" data-view="trending">
                    <i class="fas fa-fire"></i> Trending
                </a>
                <a href="/saved" class="menu-item" data-view="saved">
                    <i class="fas fa-bookmark"></i> Saved
                </a>
            </div>
        </aside>

        <main class="main-content">
            <div id="storySection" class="story-section">
                <!-- Stories will be inserted here -->
            </div>
            <div id="createPostSection" class="create-post-section">
                <!-- Create post area will be inserted here -->
            </div>
            <div id="mainContent">
                <!-- Posts will be loaded here -->
            </div>
        </main>

        <aside class="sidebar right-sidebar">
            <div class="profile-section">
                <div class="profile-header">
                    <div class="avatar-container">
                        <img id="userAvatar" 
                             src="${user.avatar_url || '/images/default-avatar.png'}" 
                             alt="Profile" 
                             class="profile-avatar">
                        <div class="avatar-upload">
                            <input type="file" 
                                   id="avatarUpload" 
                                   accept="image/*" 
                                   hidden 
                                   onchange="handleAvatarUpload(event)">
                            <label for="avatarUpload" class="avatar-edit">
                                <i class="fas fa-camera"></i>
                            </label>
                        </div>
                    </div>
                    <h3 id="profileUsername">Username</h3>
                </div>
            </div>  

            <div id="categoryFilter" class="category-section">
                <h3>Categories</h3>
                <!-- Categories will be inserted here -->
            </div>
            <div id="trendingSection" class="trending-section">
                <h3>Trending</h3>
                <!-- Trending topics will be inserted here -->
            </div>
            <div id="suggestedUsers" class="suggested-section">
                <h3>Suggested Users</h3>
                <!-- Suggested users will be inserted here -->
            </div>
        </aside>
    </div>

        <!-- Place this just before your closing </body> -->
        <div id="authModal" class="modal hidden">
            <div class="modal-content">
                <span class="close" id="closeModal">&times;</span>
                <div id="authForms"></div>
            </div>
        </div>

    <!-- Post Creation Modal -->
    <div id="createPostModal" class="modal hidden">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="postForm"></div>
        </div>
    </div>

    <!-- Profile Modal -->
    <div id="profileModal" class="modal hidden">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="profileForm"></div>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>
